{"version":3,"sources":["components/modals/UsersForm/helper/index.js","components/modals/UsersForm/index.js"],"names":["handleUsers","formData","edit","editData","setLoading","setShowModal","addToState","editUserFromState","a","userData","editAUser","createAUser","response","notifyUser","status","data","show","UsersForm","useForm","register","handleSubmit","errors","useState","loading","useContext","UsersContext","addNewUser","className","onSubmit","FormGroup","name","htmlFor","ref","required","type","defaultValue","Button","variant","block","size","disabled","Spinner","animation","role","aria-hidden"],"mappings":"uNAGaA,EAAW,uCAAG,WACzBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAPyB,iBAAAC,EAAA,yDASzBJ,GAAW,GACLK,EAVmB,2BAWpBN,GACAF,IAEYC,EAdQ,gCAefQ,YAAUD,GAfK,2DAgBfE,YAAYF,GAhBG,gCAcnBG,EAdmB,OAkBbR,GAAW,GACvBQ,GAAYC,YAAWD,IAEnBA,IAAYA,EAASE,OArBA,wBAsBvBZ,EAAOK,EAAkBK,EAASG,MAAQT,EAAWM,EAASG,MAtBvC,kBAuBhBV,EAAa,CAClBW,MAAM,KAxBe,4CAAH,kE,QCoETC,UAjEG,SAAC,GAA4B,IAA1BZ,EAAyB,EAAzBA,aAAcU,EAAW,EAAXA,KAAW,EACDG,cAAnCC,EADoC,EACpCA,SAAUC,EAD0B,EAC1BA,aAAcC,EADY,EACZA,OADY,EAEdC,oBAAS,GAFK,mBAErCC,EAFqC,KAE5BnB,EAF4B,OAGJW,EAAhCb,YAHoC,WAGJa,EAAlBZ,gBAHsB,MAGX,GAHW,IAKVqB,qBAAWC,KAArCf,EALoC,EAKpCA,UAAWgB,EALyB,EAKzBA,WAanB,OACE,oCACE,wBAAIC,UAAU,oBAAd,IAAmCzB,EAAO,YAAc,YACxD,0BAAM0B,SAAUR,GAdL,SAACnB,GACd,OAAOD,EAAY,eACZC,GACLC,EACAC,EACAC,EACAC,EACAqB,EACAhB,OAOE,kBAACmB,EAAA,EAAD,KACE,2BACEF,UAAWN,EAAOS,KAAO,cAAgB,QACzCC,QAAQ,SAFV,QAMA,2BACEC,IAAKb,EAAS,CAAEc,UAAU,IAC1BN,UAAU,eACVO,KAAK,OACLJ,KAAK,OACLK,aAAY,OAAEhC,QAAF,IAAEA,OAAF,EAAEA,EAAU2B,QAI5B,kBAACM,EAAA,EAAD,CACEC,QAAQ,OACRC,OAAO,EACPC,KAAM,KACNL,KAAK,SACLM,SAAUjB,EACVI,UAAU,SAERJ,GAAW,kCAAQrB,EAAO,YAAc,aAEzCqB,GACC,kBAACkB,EAAA,EAAD,CACEC,UAAU,SACVH,KAAK,KACLI,KAAK,SACLC,eAAa,EACbjB,UAAU,kBAEV,0BAAMA,UAAU,WAAhB","file":"static/js/6.b3365284.chunk.js","sourcesContent":["import { notifyUser } from \"../../../../util/helper-functions\";\nimport { createAUser, editAUser } from \"../../../../util/operations/users\";\n\nexport const handleUsers = async (\n  formData,\n  edit,\n  editData,\n  setLoading,\n  setShowModal,\n  addToState,\n  editUserFromState\n) => {\n  setLoading(true);\n  const userData = {\n    ...editData,\n    ...formData,\n  };\n  const response = edit\n    ? await editAUser(userData)\n    : await createAUser(userData);\n\n  response && setLoading(false);\n  response && notifyUser(response);\n\n  if (response && response.status) {\n    edit ? editUserFromState(response.data) : addToState(response.data);\n    return setShowModal({\n      show: false,\n    });\n  }\n};\n","import React, { useState, useContext } from \"react\";\nimport { FormGroup, Button, Spinner } from \"react-bootstrap\";\nimport { useForm } from \"react-hook-form\";\nimport { handleUsers } from \"./helper\";\nimport { Context as UsersContext } from \"../../../context/usersContext\";\n\nconst UsersForm = ({ setShowModal, data }) => {\n  const { register, handleSubmit, errors } = useForm();\n  const [loading, setLoading] = useState(false);\n  const { edit = false, editData = {} } = data;\n\n  const { editAUser, addNewUser } = useContext(UsersContext);\n\n  const submit = (formData) => {\n    return handleUsers(\n      { ...formData },\n      edit,\n      editData,\n      setLoading,\n      setShowModal,\n      addNewUser,\n      editAUser\n    );\n  };\n  return (\n    <>\n      <h5 className=\"text-center mb-3\"> {edit ? \"Edit User\" : \"Add User\"}</h5>\n      <form onSubmit={handleSubmit(submit)}>\n        <FormGroup>\n          <label\n            className={errors.name ? \"error-label\" : \"label\"}\n            htmlFor=\"Name \"\n          >\n            Name\n          </label>\n          <input\n            ref={register({ required: true })}\n            className=\"form-control\"\n            type=\"text\"\n            name=\"name\"\n            defaultValue={editData?.name}\n          />\n        </FormGroup>\n\n        <Button\n          variant=\"dark\"\n          block={true}\n          size={\"md\"}\n          type=\"submit\"\n          disabled={loading}\n          className=\"mt-4\"\n        >\n          {!loading && <span> {edit ? \"Edit User\" : \"Add User \"}</span>}\n\n          {loading && (\n            <Spinner\n              animation=\"border\"\n              size=\"sm\"\n              role=\"status\"\n              aria-hidden={true}\n              className=\"align-baseline\"\n            >\n              <span className=\"sr-only\">Loading...</span>\n            </Spinner>\n          )}\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default UsersForm;\n"],"sourceRoot":""}